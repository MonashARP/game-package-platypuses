<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Blackjack Game • Blackjack</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Blackjack Game">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">Blackjack</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/Blackjack.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/design-choices.html">Design Decisions</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Blackjack Game</h1>
            
      

      <div class="d-none name"><code>Blackjack.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction-of-blackjack-package">Introduction of <code>Blackjack</code> package<a class="anchor" aria-label="anchor" href="#introduction-of-blackjack-package"></a>
</h2>
<p>The <code>Blackjack</code> package allows users to simulate and score
a round of the classic Blackjack card game. Users can deal cards,
calculate hand values, simulate full game rounds, and explore
decision-making logic such as whether a dealer should hit on a soft 17.
The package also supports extensibility via custom vector classes and
C++-based scoring logic for efficiency.</p>
</div>
<div class="section level2">
<h2 id="what-is-blackjack">What is Blackjack?<a class="anchor" aria-label="anchor" href="#what-is-blackjack"></a>
</h2>
<p>Blackjack is a casino card game played between a <em>dealer</em> and
one or more <em>players</em>. The goal is to get a hand value as close
to 21 as possible, without going over. Number cards are worth their face
value, face cards (J, Q, K) are worth 10, and Aces can be worth 1 or 11
depending on the hand. The player can choose to “hit” (take another
card) or “stand” (keep their current hand). The dealer follows a fixed
strategy and must hit until reaching at least 17.</p>
</div>
<div class="section level2">
<h2 id="basic-usage">Basic Usage<a class="anchor" aria-label="anchor" href="#basic-usage"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load the package</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://monasharp.github.io/game-package-platypuses">Blackjack</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create a shuffled card deck</span></span>
<span><span class="va">deck</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/deck_cards.html">deck_cards</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Deal a hand of 2 cards</span></span>
<span><span class="fu"><a href="../reference/deal_hand.html">deal_hand</a></span><span class="op">(</span><span class="va">deck</span><span class="op">$</span><span class="va">cards</span>, <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt; &lt;card[2]&gt;</span></span>
<span><span class="co">#&gt; [1] 9♦  10♥</span></span>
<span></span>
<span><span class="co"># Score a hand</span></span>
<span><span class="fu"><a href="../reference/blackjack_score.html">blackjack_score</a></span><span class="op">(</span><span class="fu"><a href="../reference/card.html">card</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"9"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"♠"</span>, <span class="st">"♦"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 20</span></span></code></pre></div>
<div class="section level3">
<h3 id="simulating-a-round">Simulating a round<a class="anchor" aria-label="anchor" href="#simulating-a-round"></a>
</h3>
<p>The <code><a href="../reference/simulate_blackjack_game.html">simulate_blackjack_game()</a></code> function plays out a full
round for one or more players using realistic Blackjack rules. This
includes scoring logic, dealer AI, and the option to set a seed for
reproducibility.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">game</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simulate_blackjack_game.html">simulate_blackjack_game</a></span><span class="op">(</span>num_players <span class="op">=</span> <span class="fl">2</span>, seed <span class="op">=</span> <span class="fl">375</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">game</span><span class="op">)</span></span>
<span><span class="co">#&gt; Dealer's hand:  4♦ 5♦ K♦ </span></span>
<span><span class="co">#&gt; Dealer's score:  19 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Player 1 hand: 2♠ 3♥ 6♣ 9♦</span></span>
<span><span class="co">#&gt; Player 1 score: 20</span></span>
<span><span class="co">#&gt; Player 1 result: Player wins!</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Player 2 hand: 3♦ 8♦ 3♠ 5♣</span></span>
<span><span class="co">#&gt; Player 2 score: 19</span></span>
<span><span class="co">#&gt; Player 2 result: Tie!</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="accessing-player-and-dealer-results">Accessing Player and Dealer Results<a class="anchor" aria-label="anchor" href="#accessing-player-and-dealer-results"></a>
</h3>
<p>You can inspect results for players and dealer separately.</p>
<ul>
<li>To check the results for Player 1, use:</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">game</span><span class="op">$</span><span class="va">players</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="co">#&gt; $hand</span></span>
<span><span class="co">#&gt; &lt;card[4]&gt;</span></span>
<span><span class="co">#&gt; [1] 2♠ 3♥ 6♣ 9♦</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $score</span></span>
<span><span class="co">#&gt; [1] 20</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $result</span></span>
<span><span class="co">#&gt; [1] "Player wins!"</span></span></code></pre></div>
<p>You can change the number in players[[x]] to inspect other players
(e.g., players[[2]] for Player 2).</p>
<ul>
<li>To check the Dealer’s hand and score, use:</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">game</span><span class="op">$</span><span class="va">dealer</span></span>
<span><span class="co">#&gt; $hand</span></span>
<span><span class="co">#&gt; &lt;card[3]&gt;</span></span>
<span><span class="co">#&gt; [1] 4♦ 5♦ K♦</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $score</span></span>
<span><span class="co">#&gt; [1] 19</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="check-for-soft-17">Check for Soft 17<a class="anchor" aria-label="anchor" href="#check-for-soft-17"></a>
</h3>
<p>The helper function <code><a href="../reference/is_soft_17.html">is_soft_17()</a></code> checks whether a hand
is considered a “soft 17” — that is, a hand totaling 17 that includes an
Ace counted as 11. This rule affects whether the dealer should hit or
stand during gameplay.</p>
<p>This function is used internally by
<code><a href="../reference/simulate_blackjack_game.html">simulate_blackjack_game()</a></code>, but you can also test hands
manually:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/is_soft_17.html">is_soft_17</a></span><span class="op">(</span><span class="fu"><a href="../reference/card.html">card</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"6"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"♠"</span>, <span class="st">"♣"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>  <span class="co"># TRUE</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="fu"><a href="../reference/is_soft_17.html">is_soft_17</a></span><span class="op">(</span><span class="fu"><a href="../reference/card.html">card</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"10"</span>, <span class="st">"7"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"♠"</span>, <span class="st">"♦"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="co"># FALSE</span></span>
<span><span class="co">#&gt; [1] FALSE</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="custom-card-vector-class">Custom Card Vector Class<a class="anchor" aria-label="anchor" href="#custom-card-vector-class"></a>
</h2>
<p>This package includes a custom vector class for cards using the
<code>vctrs</code> package. You can create a card vector and extract
information like suit or value:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cards</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/card.html">card</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"10"</span>, <span class="st">"7"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"♥"</span>, <span class="st">"♦"</span>, <span class="st">"♠"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/card_suit.html">card_suit</a></span><span class="op">(</span><span class="va">cards</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "♥" "♦" "♠"</span></span>
<span><span class="fu"><a href="../reference/card_value.html">card_value</a></span><span class="op">(</span><span class="va">cards</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 11 10  7</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="team-contributions">Team Contributions<a class="anchor" aria-label="anchor" href="#team-contributions"></a>
</h2>
<p>This package was collaboratively developed by <em>Min Ni Hong</em>,
<em>Vaishnavi Amuda</em>, and <em>Shivesh Krishna</em>.</p>
<ul>
<li><p><em>Min Ni Hong</em> implemented the foundational components of
the package’s card system. This included designing the custom
<code>card</code> constructor, implementing essential <code>vctrs</code>
methods (such as <code>vec_ptype2()</code>, <code>vec_cast()</code>, and
<code><a href="https://rdrr.io/r/base/format.html" class="external-link">format()</a></code>), and writing unit tests to ensure these new
structures behaved consistently. They also contributed the first section
of the design vignette, explaining the motivation behind creating a
dedicated <code>card</code> class.</p></li>
<li><p><em>Vaishnavi Amuda</em> focused on extending the functionality
of the new card class through custom generics. They implemented
functions such as <code><a href="../reference/card_suit.html">card_suit()</a></code>, <code><a href="../reference/card_value.html">card_value()</a></code>,
and related <code>.card</code> methods, and also adapted a few existing
helpers like <code>build_full_deck()</code> to make use of the new
constructor. Comprehensive tests were written for each generic, and they
authored the second section of the design vignette covering why generics
were used and how they enhance extensibility.</p></li>
<li><p><em>Shivesh Krishna</em> led the performance-focused enhancements
by integrating C++ via Rcpp for hand scoring. They wrote
<code>score_hand_cpp</code>, ensured compatibility with the
<code>card</code> class across all gameplay functions, and refactored
core gameplay logic to make full use of the new system. Unit tests were
created for both the C++ scoring and the refactored game pipeline. They
also completed the third section of the design vignette, documenting the
rationale for using C++, and handled the final package checks and
vignette knitting.</p></li>
</ul>
<p>The team worked closely throughout the development process, reviewing
each other’s code, sharing design decisions, and troubleshooting
together to ensure the final package was cohesive, well-integrated, and
thoroughly tested.</p>
</div>
<div class="section level2">
<h2 id="getting-started">Getting Started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h2>
<p>To install and run the package locally:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># In your local dev environment</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/load_all.html" class="external-link">load_all</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>For a detailed explanation of internal design decisions, C++ and
vctrs integration, and future considerations, please refer to the <a href="https://monasharp.github.io/game-package-platypuses/articles/design-choices.html">Design
decisions behind the Blackjack package</a>.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Min Ni Hong, Vaishnavi Amuda, Shivesh Palanisamy.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
